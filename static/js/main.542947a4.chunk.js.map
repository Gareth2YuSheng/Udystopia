{"version":3,"sources":["pages/Home.tsx","pages/Tab2.tsx","App.tsx","serviceWorker.ts","index.tsx","../node_modules/@ionic/core/dist/esm-es5 lazy /^/.*/.entry/.js$/ include: /.entry/.js$/ exclude: /.system/.entry/.js$/ groupOptions: {} namespace object","../node_modules/ionicons/dist/esm-es5 lazy /^/.*/.entry/.js$/ include: /.entry/.js$/ exclude: /.system/.entry/.js$/ groupOptions: {} namespace object"],"names":["host_addr","Styles","styled","div","Table","columns","data","useTable","getTableProps","getTableBodyProps","headerGroups","prepareRow","rows","map","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","render","row","i","getRowProps","cells","cell","getCellProps","getData","type","festivalId","startTime","endTime","page","pageSize","setError","setItems","setTotalPages","setSelectOptions","setPage","setRows","url","controller","AbortController","signal","fetchPromise","fetch","timeOutReq","setTimeout","abort","then","res","json","result","console","log","clearTimeout","error","pages","Math","ceil","count","options","push","isPlatform","NativeStorage","setItem","performances","totalPages","selectOptions","catch","getItem","Home","useState","items","setST","setET","setFestivalId","typeOfDV","setTypeOfDV","segmentValue","setSegmentValue","showLoading","setShowLoading","useEffect","className","cssClass","isOpen","onDidDismiss","message","duration","size-xs","inputmode","id","value","onIonChange","e","detail","show-cancel-button","placeholder","size-md","color","onClick","test","length","validateSearchParams","Header","accessor","prevPage","slot","icon","arrowBackCircleOutline","arrowForwardCircleOutline","interface","toString","option","key","fillInRowsResult","setTableData","performance","addingSlot","setTotalPopularity","totalPopularity","schedule","schedulePerformanceIDs","x","performanceid","slotsNeeded","keyCount","p","h","substr","starttime","endtime","includes","popularity","colSpan","cache","populateSchedule","setTableHeader","setPerformances","festivalStartTime","start","split","date","Date","setHours","setMinutes","setSeconds","time","toTimeString","timings","end","getMinutes","t","populateResultTable","validation","Tab2","tableHeader","tableData","checked","setChecked","checked2","setChecked2","typeOfRV","setTypeOfRV","scroll-x","item","index","lines","class","App","path","component","exact","to","tab","href","homeOutline","calendarOutline","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","onUpdate","onSuccess","ReactDOM","document","getElementById","URL","process","origin","addEventListener","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","Error","code","ids","keys","Object","module","exports"],"mappings":"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","file":"static/js/main.542947a4.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  IonContent,\r\n  IonHeader,\r\n  IonPage,\r\n  IonToolbar,\r\n  IonButton,\r\n  IonCardHeader,\r\n  IonSearchbar,\r\n  IonIcon,\r\n  IonLabel,\r\n  IonSelect,\r\n  IonSelectOption,\r\n  IonGrid, \r\n  IonRow, \r\n  IonCol,\r\n  IonSegment, \r\n  IonSegmentButton,\r\n  IonLoading\r\n} from \"@ionic/react\";\r\nimport \"./Home.css\";\r\nimport { useTable } from \"react-table\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  arrowForwardCircleOutline,\r\n  arrowBackCircleOutline\r\n} from \"ionicons/icons\";\r\n\r\nimport { NativeStorage } from  '@ionic-native/native-storage';\r\nimport { isPlatform } from '@ionic/react';\r\n\r\nvar host_addr = \"https://ades-backend-jsys.herokuapp.com/\"\r\n// var host_addr = \"http://192.168.5.52:3000/\"\r\n\r\nvar timeoutDuration = 30000;\r\n\r\n//data table style\r\nconst Styles = styled.div`\r\n  table {\r\n    tr {\r\n      font-family: 'Fjalla One', sans-serif;\r\n    }\r\n    text-align: center;\r\n    margin: 0px auto;\r\n    width: 100%;\r\n    border: 3px solid black;\r\n    th,\r\n    td {\r\n      padding: 5px;\r\n      border: 3px solid black;\r\n      width: 20%;\r\n    }\r\n    th {\r\n      font: normal 100% \"mohaveMedium\";\r\n      background-color: var(--ion-color-pink);\r\n      color: white;\r\n    }\r\n  }\r\n`;\r\n\r\n//data table funtion\r\nfunction Table({ columns, data }) {\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    prepareRow,\r\n    rows,\r\n  } = useTable({\r\n    columns,\r\n    data,\r\n  });\r\n  \r\n  //render data table UI\r\n  return (\r\n    <table {...getTableProps()}>\r\n      <thead>\r\n        {headerGroups.map((headerGroup) => (\r\n          <tr {...headerGroup.getHeaderGroupProps()}>\r\n            {headerGroup.headers.map((column) => (\r\n              <th {...column.getHeaderProps()}>{column.render(\"Header\")}</th>\r\n            ))}\r\n          </tr>\r\n        ))}\r\n      </thead>\r\n      <tbody {...getTableBodyProps()}>\r\n        {rows.map((row, i) => {\r\n          prepareRow(row);\r\n          return (\r\n            <tr {...row.getRowProps()}>\r\n              {row.cells.map((cell) => {\r\n                return <td {...cell.getCellProps()}>{cell.render(\"Cell\")}</td>;\r\n              })}\r\n            </tr>\r\n          );\r\n        })}\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\n\r\n//get data for data table & pagination function\r\nfunction getData(type, festivalId, startTime, endTime, page, pageSize, setError, setItems, setTotalPages, setSelectOptions, setPage, setRows) {\r\n  // var url = host_addr+\"basic/data?\";\r\n  var url = (type == 'basic') ? host_addr+\"basic/data?\" : host_addr+\"advanced/data?\";\r\n\r\n  if (festivalId) {\r\n    url += \"festivalId=\" + festivalId + \"&\";\r\n  }\r\n  if (startTime) {\r\n    url += \"startTime=\" + startTime + \"&\";\r\n  }\r\n  if (endTime) {\r\n    url += \"endTime=\" + endTime + \"&\";\r\n  }\r\n  if (page) {\r\n    url += \"page=\" + page + \"&\";\r\n  }\r\n  if (pageSize) {\r\n    url += \"pageSize=\" + pageSize + \"&\";\r\n  }\r\n\r\n  const controller = new AbortController();\r\n  const signal = controller.signal;\r\n  const fetchPromise = fetch(url, {signal});\r\n  const timeOutReq = setTimeout(() => controller.abort(), timeoutDuration);\r\n\r\n  fetchPromise\r\n    .then((res) => res.json())\r\n    .then((result) => {\r\n      console.log(result);\r\n      clearTimeout(timeOutReq);\r\n\r\n      if (result.error) {\r\n        console.log(\"ERROR\");\r\n        setError(result);\r\n      } else {\r\n\r\n        setItems(result.result);\r\n        var pages = 0;\r\n        pages = Math.ceil(result.count / pageSize);\r\n        setTotalPages(pages);\r\n        var options = [];\r\n        for (var i = 0; i < pages; i++) {\r\n          options.push(i);\r\n        }\r\n        setSelectOptions(options);\r\n\r\n        //cache in storage\r\n        if (isPlatform('android')) {\r\n          NativeStorage.setItem(url, {performances: result.result, totalPages: pages, selectOptions: options, page: page, pageSize: pageSize})\r\n          .then(\r\n            () => console.log('Stored item as '+url),\r\n            error => console.error('Error storing item', error)\r\n          );\r\n        }\r\n        \r\n      }\r\n    })\r\n    .catch((error) => {\r\n      setError(error);\r\n      console.log(error)\r\n\r\n      if (isPlatform('android')) {\r\n        //fetch from storage if exists\r\n        NativeStorage.getItem(url)\r\n        .then(\r\n          data => {console.log(data);\r\n            setItems(data.performances);\r\n            setTotalPages(data.totalPages);\r\n            setSelectOptions(data.selectOptions);\r\n            setPage(data.page);\r\n            setRows(data.pageSize);\r\n          },\r\n          error => console.error(\"Record does not exist\")\r\n        );\r\n      }\r\n\r\n    });\r\n}\r\n\r\n\r\n//handle filter search funtion\r\nfunction validateSearchParams(festivalId, startTime, endTime) {\r\n  if (festivalId) {\r\n    if (!(/^\\d+$/.test(festivalId))  || festivalId.length < 10) {\r\n      return false;\r\n    }\r\n  }\r\n  if (startTime) { \r\n    if (!(/^\\d{2}:\\d{2}$/.test(startTime))) {\r\n      // console.log(\"Bad format\")\r\n      return false\r\n      \r\n    }\r\n\r\n    if ((startTime[0] > 2 && startTime[1]>3)) {\r\n      // console.log(\"More than 24\")\r\n      return false\r\n      \r\n    }\r\n  }\r\n  if (endTime) { \r\n    if (!(/^\\d{2}:\\d{2}$/.test(endTime))) {\r\n      // console.log(\"Bad format\")\r\n      return false\r\n      \r\n    }\r\n\r\n    if ((endTime[0] > 2 && endTime[1]>3)) {\r\n      // console.log(\"More than 24\")\r\n      return false\r\n      \r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nconst Home: React.FC = () => {\r\n  const [error, setError] = useState(null);\r\n  const [items, setItems] = useState([]);\r\n  const [pageSize, setRows] = useState(10);\r\n  const [page, setPage] = useState(0);\r\n  const [startTime, setST] = useState(null);\r\n  const [endTime, setET] = useState(null);\r\n  const [festivalId, setFestivalId] = useState(null);\r\n  const [totalPages, setTotalPages] = useState(0);\r\n  const [selectOptions, setSelectOptions] = useState([]);\r\n  const [typeOfDV, setTypeOfDV] = useState('basic');\r\n  const [segmentValue, setSegmentValue] = useState('Basic');\r\n  const [showLoading, setShowLoading] = useState(true);\r\n\r\n  const columnsBasic = [\r\n    {\r\n      Header: \"performanceId\",\r\n      accessor: \"performanceid\",\r\n    },\r\n    {\r\n      Header: \"festivalId\",\r\n      accessor: \"festivalid\",\r\n    },\r\n    {\r\n      Header: \"startTime\",\r\n      accessor: \"starttime\",\r\n    },\r\n    {\r\n      Header: \"endTime\",\r\n      accessor: \"endtime\",\r\n    },\r\n  ];\r\n\r\n  const columnsAdvanced = [\r\n    {\r\n      Header: \"performanceId\",\r\n      accessor: \"performanceid\",\r\n    },\r\n    {\r\n      Header: \"festivalId\",\r\n      accessor: \"festivalid\",\r\n    },\r\n    {\r\n      Header: \"startTime\",\r\n      accessor: \"starttime\",\r\n    },\r\n    {\r\n      Header: \"endTime\",\r\n      accessor: \"endtime\",\r\n    },\r\n    {\r\n      Header: \"popularity\",\r\n      accessor: \"popularity\",\r\n    },\r\n  ];\r\n\r\n  useEffect(() => {\r\n\r\n    getData(typeOfDV, festivalId, startTime, endTime, page, pageSize, setError, setItems, setTotalPages, setSelectOptions, setPage, setRows);\r\n\r\n  }, []);\r\n\r\n    return (\r\n      <IonPage>\r\n        <IonHeader>\r\n          {/*toolbar with app name*/}\r\n          <IonToolbar>\r\n            <div className=\"appName\">Udystopia</div>\r\n          </IonToolbar>\r\n        </IonHeader>\r\n\r\n        <IonContent>\r\n\r\n          <IonLoading\r\n            cssClass='loading'\r\n            isOpen={showLoading}\r\n            onDidDismiss={() => setShowLoading(false)}\r\n            message={'Please wait...'}\r\n            duration={2000}\r\n          />\r\n\r\n          {/*data table title*/}\r\n          <IonCardHeader>\r\n            <div className=\"title\">Data Viewer</div>\r\n          </IonCardHeader>\r\n\r\n          <div className=\"tableContent\">\r\n          {/*search bar*/}\r\n            <IonGrid>\r\n              <IonRow>\r\n\r\n                {/*search bar for festivalId*/}\r\n                {typeOfDV == 'basic' &&\r\n                <IonCol size-xs=\"6\">\r\n                  <IonSearchbar \r\n                    inputmode=\"numeric\"\r\n                    id=\"searchBarA\"\r\n                    className=\"searchBar\"\r\n                    value={festivalId}\r\n                    onIonChange={(e) => {\r\n                      setFestivalId(e.detail.value!);\r\n                    }}\r\n                    show-cancel-button=\"never\"\r\n                    placeholder=\"Search festivalId\"\r\n                  ></IonSearchbar>\r\n                </IonCol>\r\n                }\r\n\r\n                {/*search bar for startTime*/}\r\n                {typeOfDV == 'basic' &&\r\n                <IonCol size-xs=\"6\">\r\n                  <IonSearchbar \r\n                    inputmode=\"numeric\"\r\n                    id=\"searchBarB\"\r\n                    className=\"searchBar\"\r\n                    value={startTime}\r\n                    onIonChange={(e) => {\r\n                      setST(e.detail.value!);\r\n                    }}\r\n                    show-cancel-button=\"never\"\r\n                    placeholder=\"Search startTime (e.g. 08:00)\"\r\n                  ></IonSearchbar>\r\n                </IonCol>\r\n                }\r\n\r\n                {/*search bar for festivalId*/}\r\n                {typeOfDV == 'advanced' &&\r\n                <IonCol size-md=\"4\" size-xs=\"12\">\r\n                  <IonSearchbar \r\n                    inputmode=\"numeric\"\r\n                    id=\"searchBarA\"\r\n                    className=\"searchBar\"\r\n                    value={festivalId}\r\n                    onIonChange={(e) => {\r\n                      setFestivalId(e.detail.value!);\r\n                    }}\r\n                    show-cancel-button=\"never\"\r\n                    placeholder=\"Search festivalId\"\r\n                  ></IonSearchbar>\r\n                </IonCol>\r\n                }\r\n\r\n                {/*search bar for startTime*/}\r\n                {typeOfDV == 'advanced' &&\r\n                <IonCol size-md=\"4\" size-xs=\"6\">\r\n                  <IonSearchbar \r\n                    inputmode=\"numeric\"\r\n                    id=\"searchBarB\"\r\n                    className=\"searchBar\"\r\n                    value={startTime}\r\n                    onIonChange={(e) => {\r\n                      setST(e.detail.value!);\r\n                    }}\r\n                    show-cancel-button=\"never\"\r\n                    placeholder=\"Search startTime (e.g. 08:00)\"\r\n                  ></IonSearchbar>\r\n                </IonCol>\r\n                }\r\n\r\n                  {/*search bar for endTime*/}\r\n                  {typeOfDV == 'advanced' &&\r\n                  <IonCol size-md=\"4\" size-xs=\"6\">\r\n                    <IonSearchbar\r\n                      inputmode=\"numeric\"\r\n                      id=\"searchBarC\"\r\n                      className=\"searchBar\"\r\n                      value={endTime}\r\n                      onIonChange={(e) => {\r\n                        setET(e.detail.value!);\r\n                      }}\r\n                      show-cancel-button=\"never\"\r\n                      placeholder=\"Search endTime (e.g. 18:00)\"\r\n                    ></IonSearchbar>\r\n                  </IonCol>\r\n                  }\r\n              </IonRow>\r\n            </IonGrid>\r\n\r\n          {/*search button*/}\r\n          <IonButton\r\n            id=\"searchButton\"\r\n            color=\"dark\"\r\n            onClick={() => {\r\n              setShowLoading(true);\r\n              setPage(0);\r\n              if (validateSearchParams(festivalId, startTime, endTime)) {\r\n                getData(\r\n                  typeOfDV,\r\n                  festivalId,\r\n                  startTime,\r\n                  endTime,\r\n                  0,\r\n                  pageSize,\r\n                  setError,\r\n                  setItems,\r\n                  setTotalPages,\r\n                  setSelectOptions,\r\n                  setPage,\r\n                  setRows\r\n                );\r\n                \r\n              }\r\n            }}\r\n          >\r\n            Search\r\n          </IonButton>\r\n\r\n            {/*toggle buttons*/}\r\n            <IonSegment className=\"segment\" value={segmentValue}>\r\n              <IonSegmentButton className=\"segmentButton\" value=\"Basic\" onClick={() => {\r\n                setSegmentValue(\"Basic\");\r\n                setTypeOfDV('basic');\r\n                getData('basic', festivalId, startTime, endTime, page, pageSize, setError, setItems, setTotalPages, setSelectOptions, setPage, setRows);\r\n              }}>\r\n                <IonLabel>Basic</IonLabel>\r\n              </IonSegmentButton>\r\n\r\n              <IonSegmentButton className=\"segmentButton\" value=\"Advanced\" onClick={() => {\r\n                setShowLoading(true);\r\n                setSegmentValue(\"Advanced\");\r\n                setTypeOfDV('advanced');\r\n                getData('advanced', festivalId, startTime, endTime, page, pageSize, setError, setItems, setTotalPages, setSelectOptions, setPage, setRows);\r\n              }}>\r\n                <IonLabel>Advanced</IonLabel>\r\n              </IonSegmentButton>\r\n            </IonSegment>\r\n\r\n          {/*Basic data table*/}\r\n          {typeOfDV == 'basic' && <Styles>\r\n            <Table data={items} columns={columnsBasic} />\r\n          </Styles>}\r\n\r\n          {/*Advanced data table*/}\r\n          {typeOfDV == 'advanced' && <Styles>\r\n            <Table data={items} columns={columnsAdvanced} />\r\n          </Styles>}\r\n\r\n          {/*pagination*/}\r\n          <IonGrid>\r\n            <IonRow className=\"pagination\">\r\n\r\n            {/*previous page button*/}\r\n            <IonCol size-md=\"6\" size-xs=\"12\">\r\n              {page > 0 && (\r\n                <IonButton\r\n                  id=\"paginationBPrevious\"\r\n                  color=\"dark\"\r\n                  onClick={() => {\r\n                    setShowLoading(true);\r\n                    setPage((prevPage) => prevPage - 1);\r\n                  }}\r\n                >\r\n                  <IonIcon slot=\"start\" icon={arrowBackCircleOutline} />\r\n                  Previous page\r\n                </IonButton>\r\n              )}\r\n\r\n            {/*next page button*/}\r\n              {page < totalPages - 1 && (\r\n                <IonButton\r\n                  id=\"paginationBNext\"\r\n                  color=\"dark\"\r\n                  onClick={() => {\r\n                    setShowLoading(true);\r\n                    setPage((prevPage) => prevPage + 1);\r\n                  }}\r\n                >\r\n                  <IonIcon slot=\"end\" icon={arrowForwardCircleOutline} />\r\n                  Next Page\r\n                </IonButton>\r\n              )}\r\n            </IonCol>\r\n\r\n            {/*go to page section*/}\r\n            <IonCol id=\"go2Page\" size-md=\"3\" size-xs=\"6\">\r\n              <ul id=\"goToPage\">\r\n                <li>\r\n                  <IonLabel id=\"ionLabel\">Go to Page: </IonLabel>\r\n                </li>\r\n\r\n                <li>\r\n                  <IonSelect\r\n                    id=\"ionSelect\"\r\n                    value={page}\r\n                    interface=\"popover\"\r\n                    placeholder={(page + 1).toString()}\r\n                    onIonChange={(e) => {\r\n                      setShowLoading(true);\r\n                      setPage(e.detail.value);\r\n                      getData(\r\n                        typeOfDV,\r\n                        festivalId,\r\n                        startTime,\r\n                        endTime,\r\n                        e.detail.value,\r\n                        pageSize,\r\n                        setError,\r\n                        setItems,\r\n                        setTotalPages,\r\n                        setSelectOptions,\r\n                        setPage,\r\n                        setRows\r\n                      );\r\n                    }}\r\n                  >\r\n                    {selectOptions.map((option) => (\r\n                      <IonSelectOption key={option} value={option}>\r\n                        {option + 1}\r\n                      </IonSelectOption>\r\n                    ))}\r\n                  </IonSelect>\r\n                </li>\r\n                <li id=\"of\">of {totalPages}</li>\r\n              </ul>\r\n            </IonCol>\r\n\r\n            {/*rows per page section*/}\r\n            <IonCol id=\"rowsPPage\" size-md=\"3\" size-xs=\"6\">\r\n              <ul id=\"rowsPerPage\">\r\n                <li>\r\n                  <IonLabel id=\"ionLabel1\">Rows per page: </IonLabel>\r\n                </li>\r\n                <li>\r\n                  <IonSelect\r\n                    id=\"ionSelect1\"\r\n                    value={pageSize}\r\n                    interface=\"popover\"\r\n                    placeholder={(10).toString()}\r\n                    onIonChange={(e) => {\r\n                      setShowLoading(true);\r\n                      setRows(e.detail.value);\r\n                      setPage(0);\r\n                      getData(\r\n                        typeOfDV,\r\n                        festivalId,\r\n                        startTime,\r\n                        endTime,\r\n                        0,\r\n                        e.detail.value,\r\n                        setError,\r\n                        setItems,\r\n                        setTotalPages,\r\n                        setSelectOptions,\r\n                        setPage,\r\n                        setRows\r\n                      );\r\n                    \r\n                    }}\r\n                  >\r\n                    <IonSelectOption value={5}>\r\n                      {5}\r\n                    </IonSelectOption>\r\n                    <IonSelectOption value={7}>\r\n                      {7}\r\n                    </IonSelectOption>\r\n                    <IonSelectOption value={10}>\r\n                      {10}\r\n                    </IonSelectOption>\r\n                    <IonSelectOption value={12}>\r\n                      {12}\r\n                    </IonSelectOption>\r\n                    <IonSelectOption value={15}>\r\n                      {15}\r\n                    </IonSelectOption>\r\n                  </IonSelect>\r\n                </li>\r\n              </ul>\r\n            </IonCol>\r\n\r\n            \r\n          </IonRow>\r\n          </IonGrid>\r\n          </div>\r\n        </IonContent>\r\n      </IonPage>\r\n    );\r\n\r\n};\r\n\r\nexport default Home;\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  IonContent,\r\n  IonHeader,\r\n  IonPage,\r\n  IonToolbar,\r\n  IonButton,\r\n  IonCardHeader,\r\n  IonSearchbar,\r\n  IonGrid,\r\n  IonRow,\r\n  IonCol,\r\n  IonIcon,\r\n  IonLabel,\r\n  IonItem,\r\n  IonCheckbox,\r\n  IonSegment,\r\n  IonSegmentButton,\r\n  IonLoading\r\n} from \"@ionic/react\";\r\nimport './Tab2.css';\r\nimport { NativeStorage } from  '@ionic-native/native-storage';\r\nimport { isPlatform } from '@ionic/react';\r\n\r\nvar host_addr = \"https://ades-backend-jsys.herokuapp.com/\"\r\n// var host_addr = \"http://192.168.5.52:3000/\"\r\n\r\nvar timeoutDuration = 30000;\r\n\r\nfunction fillInRowsResult (data, setTableData, setTotalPopularity=null) {\r\n  //genetate table rows\r\n  var totalPopularity = 0;\r\n  var performances = data.performances;\r\n  var performance;\r\n  var headers = data.headers;\r\n  var schedule = data.result;\r\n  var schedulePerformanceIDs = [];\r\n  for (var x in schedule) {\r\n    schedulePerformanceIDs.push(schedule[x].performanceid);\r\n  }\r\n  var addingSlot;\r\n  var rows = [];\r\n  var row = [];\r\n  var keyCount = 0;\r\n  var slotsNeeded;\r\n\r\n\r\n  for (var p=0;p<performances.length;p++) {\r\n    performance = performances[p];\r\n\r\n    //GET PERFORMANCE LENGTH\r\n    slotsNeeded = 0\r\n    addingSlot = false;\r\n    for (var h=0;h<headers.length;h++) { \r\n      if (headers[h].substr(0,8) == performance.starttime) {\r\n        addingSlot = true;\r\n      } else if (headers[h].substr(0,8) == performance.endtime) {\r\n        addingSlot = false;\r\n      } \r\n      if (addingSlot) {\r\n        slotsNeeded++;\r\n      } \r\n    }\r\n\r\n    row = []\r\n    for (var h=0;h<headers.length-slotsNeeded+1;h++) { \r\n      if (headers[h].substr(0,8) == performance.starttime) {\r\n        if (schedulePerformanceIDs.includes(performance.performanceid)) {   \r\n          if (performance.popularity) {\r\n            row.push(<td key={keyCount++} className={'performaceSlotResult'} colSpan={slotsNeeded} >{performance.performanceid} ({performance.popularity})</td>);\r\n            totalPopularity += performance.popularity;\r\n          } else {\r\n            row.push(<td key={keyCount++} className={'performaceSlotResult'} colSpan={slotsNeeded} >{performance.performanceid}</td>); \r\n          }\r\n        } else {\r\n          if (performance.popularity) {\r\n            row.push(<td key={keyCount++} className={'performaceSlot'} colSpan={slotsNeeded} >{performance.performanceid} ({performance.popularity})</td>); \r\n          } else {\r\n            row.push(<td key={keyCount++} className={'performaceSlot'} colSpan={slotsNeeded} >{performance.performanceid}</td>); \r\n          }\r\n        }\r\n      } else {\r\n        row.push(<td key={keyCount++} className={'emptySlot'} ></td>);\r\n      }\r\n\r\n    }\r\n    rows.push(row);\r\n  }\r\n\r\n  setTableData(rows);\r\n  // setTotalPopularity(totalPopularity);\r\n  if (setTotalPopularity) setTotalPopularity(totalPopularity);\r\n}\r\n\r\nfunction cache(url, performances, headers, result) {\r\n  //cache in storage\r\n  if (isPlatform('android')) {\r\n    NativeStorage.setItem(url, {performances: performances, headers: headers, result: result})\r\n    .then(\r\n      () => console.log('Stored item as '+url),\r\n      error => console.error('Error storing item', error)\r\n    );\r\n  }\r\n}\r\n\r\n\r\nfunction populateSchedule(type, festivalId, setError, setTableHeader, setTableData, setPerformances) {\r\n  // var url = host_addr+\"advanced/result/festival/startEnd?festivalId=\"+festivalId;\r\n  var url = (type == 'basic') ? host_addr+\"basic/result/festival/startEnd?festivalId=\"+festivalId : host_addr+\"advanced/result/festival/startEnd?festivalId=\"+festivalId;\r\n\r\n  const controller = new AbortController();\r\n  const signal = controller.signal;\r\n  const fetchPromise = fetch(url, {signal});\r\n  const timeOutReq = setTimeout(() => controller.abort(), timeoutDuration);\r\n\r\n  fetchPromise\r\n    .then(res => res.json())\r\n    .then(\r\n      (result) => {\r\n        console.log(result);\r\n        clearTimeout(timeOutReq);\r\n\r\n        if (result.error) {\r\n          console.log(\"ERROR\");\r\n          setError(result); \r\n        } \r\n\r\n        var festivalStartTime = result.start.split(\":\");\r\n        var date = new Date();\r\n        date.setHours(festivalStartTime[0]);\r\n        date.setMinutes(festivalStartTime[1]);\r\n        date.setSeconds(festivalStartTime[2]);\r\n\r\n        var time = date.toTimeString().substr(0,8);\r\n        var timings = [];\r\n        var headers = [];\r\n\r\n        //Get timings every 30 mins\r\n        while ( time <= result.end ) {\r\n          timings.push(time);\r\n          date.setMinutes(date.getMinutes() + 30);\r\n          time = date.toTimeString().substr(0,8);\r\n        }\r\n\r\n        for (var t=0;t<timings.length-1;t++) {\r\n          headers.push(timings[t]+\" - \"+timings[t+1]);\r\n        }\r\n\r\n        setTableHeader(headers);\r\n        setPerformances(result.performances)\r\n\r\n        var data = {\r\n          headers: headers,\r\n          performances: result.performances,\r\n          result: null\r\n        }\r\n\r\n        fillInRowsResult(data, setTableData);\r\n\r\n        cache(url, result.performances, headers, null);\r\n      })\r\n      .catch((error) => {\r\n        setError(error);\r\n\r\n        if (isPlatform('android')) {\r\n          NativeStorage.getItem(url)\r\n            .then(\r\n              data => {console.log(data);\r\n                setTableHeader(data.headers);\r\n                setPerformances(data.performances); \r\n\r\n                fillInRowsResult(data, setTableData);\r\n                \r\n              },\r\n              error => console.error(\"Record does not exist\")\r\n            );\r\n        }\r\n      })\r\n  \r\n}\r\n\r\nfunction populateResultTable(type, festivalId, setError, setTableData, headers, performances, setTableHeader, setPerformances, setTotalPopularity=null) {\r\n  // var url = host_addr+\"basic/result?festivalId=\"+festivalId;\r\n  var url = (type == 'basic') ? host_addr+\"basic/result?festivalId=\"+festivalId : host_addr+\"advanced/result?festivalId=\"+festivalId;\r\n\r\n  const controller = new AbortController();\r\n  const signal = controller.signal;\r\n  const fetchPromise = fetch(url, {signal});\r\n  const timeOutReq = setTimeout(() => controller.abort(), timeoutDuration);\r\n\r\n  fetchPromise\r\n    .then(res => res.json())\r\n    .then(\r\n      (result) => {\r\n        console.log(result);\r\n        clearTimeout(timeOutReq);\r\n\r\n        if (result.error) {\r\n          console.log(\"ERROR\");\r\n          setError(result); \r\n        } \r\n\r\n        var data = {\r\n          headers: headers,\r\n          performances: performances,\r\n          result: result.result\r\n        }\r\n\r\n        \r\n        fillInRowsResult(data, setTableData, setTotalPopularity);\r\n\r\n        cache(url, performances, headers, result.result);\r\n      })\r\n      .catch((error) => {\r\n        setError(error);\r\n        if (isPlatform('android')) {\r\n          NativeStorage.getItem(url)\r\n            .then(\r\n              data => {console.log(data);\r\n                setTableHeader(data.headers);\r\n                setPerformances(data.performances); \r\n\r\n                fillInRowsResult(data, setTableData, setTotalPopularity);\r\n\r\n              },\r\n              error => console.error(\"Record does not exist\")\r\n            );\r\n        }\r\n      })\r\n}\r\n\r\n\r\nfunction validation(festivalId) {\r\n  if (!(/^\\d+$/.test(festivalId))  || festivalId.length < 10) {\r\n    return false;\r\n  } \r\n  return true;\r\n}\r\n\r\n\r\nconst Tab2: React.FC = () => {\r\n  const [error, setError] = useState(null);\r\n  const [items, setItems] = useState([]);\r\n\r\n  const [festivalId, setFestivalId] = useState(null);\r\n  const [tableHeader, setTableHeader] = useState([]);\r\n  const [tableData, setTableData] = useState([]);\r\n  const [checked, setChecked] = useState(false);\r\n  const [checked2, setChecked2] = useState(false);\r\n  const [performances, setPerformances] = useState([]);\r\n  const [totalPopularity, setTotalPopularity] = useState(0);\r\n  const [typeOfRV, setTypeOfRV] = useState('basic');\r\n  const [segmentValue, setSegmentValue] = useState('Basic');\r\n  const [showLoading, setShowLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n      \r\n  }, []);\r\n\r\n      return (\r\n        <IonPage>\r\n          <IonHeader>\r\n            <IonToolbar>\r\n              <div className=\"appName\">Udystopia</div>\r\n            </IonToolbar>\r\n          </IonHeader>\r\n    \r\n          <IonContent scroll-x=\"true\">\r\n            {/*data table title*/}\r\n            <IonCardHeader>\r\n              <div className=\"title\">Result Viewer</div>\r\n            </IonCardHeader>\r\n\r\n            <div className=\"tableContent\">\r\n            {/*search bar*/}\r\n            <IonGrid>\r\n              <IonRow>\r\n                <IonCol>\r\n                  {/*search bar for festivalId*/}\r\n                  <IonSearchbar \r\n                    id=\"searchBar\" \r\n                    value={festivalId} \r\n                    onIonChange={e => {setFestivalId(e.detail.value!);}} \r\n                    show-cancel-button=\"never\" \r\n                    placeholder=\"Search festivalId\">\r\n                  </IonSearchbar>\r\n                </IonCol>\r\n              </IonRow>\r\n            </IonGrid>\r\n            \r\n            <IonButton id=\"searchButton\" color=\"dark\" onClick={()=>{\r\n              if (validation(festivalId)) {\r\n                setShowLoading(true);\r\n                populateSchedule(typeOfRV,festivalId,setError,setTableHeader,setTableData,setPerformances);\r\n                setChecked(false);\r\n                setChecked2(false);\r\n              }\r\n            }}>Search</IonButton>\r\n            \r\n            <IonLoading\r\n              cssClass='loading'\r\n              isOpen={showLoading}\r\n              onDidDismiss={() => setShowLoading(false)}\r\n              message={'Please wait...'}\r\n              duration={2500}\r\n            />\r\n\r\n            {/*toggle buttons*/}\r\n            {tableData.length>0 &&\r\n            <IonSegment className=\"segment\" value={segmentValue}>\r\n              <IonSegmentButton \r\n                className=\"segmentButton\" \r\n                value=\"Basic\" \r\n                onClick={() => {\r\n                  setShowLoading(true);\r\n                  setSegmentValue(\"Basic\");\r\n                  setTypeOfRV('basic');\r\n                  if (festivalId) populateSchedule('basic',festivalId,setError,setTableHeader,setTableData,setPerformances);\r\n                  if (checked2) setChecked2(false);\r\n                }}\r\n              >\r\n                <IonLabel>Basic</IonLabel>\r\n              </IonSegmentButton>\r\n\r\n              <IonSegmentButton className=\"segmentButton\" value=\"Advanced\" onClick={() => {\r\n                setShowLoading(true);\r\n                setSegmentValue(\"Advanced\");\r\n                setTypeOfRV('advanced');\r\n                  if (festivalId) populateSchedule('advanced',festivalId,setError,setTableHeader,setTableData,setPerformances);\r\n                  if (checked) setChecked(false);\r\n                }}\r\n              >\r\n                <IonLabel>Advanced</IonLabel>\r\n              </IonSegmentButton>\r\n            </IonSegment>}\r\n\r\n            {/*Result table*/}\r\n            <table id=\"resultViewer\">\r\n              <thead>\r\n                <tr>\r\n                  {tableHeader.map((item, index) => (\r\n                    <th key={index}>{item}</th>\r\n                  ))}\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                \r\n                {tableData.map((item,index)=> {\r\n                  return <tr key={index}>{item}</tr>\r\n                })}\r\n  \r\n              </tbody>\r\n            </table>\r\n\r\n            {/*Basic Result Checkbox*/}\r\n            {tableData.length>0 && typeOfRV == 'basic' && \r\n            <div id=\"checkboxSection\">\r\n              <IonItem lines=\"none\" class=\"ion-no-padding\">\r\n                <div id=\"checkboxTitle\">Show Me The Most Performances I Can Watch</div>\r\n                <IonLabel></IonLabel>\r\n                <IonCheckbox id=\"checkbox\" checked={checked} onIonChange={e => setChecked(e.detail.checked)} onClick={()=>{\r\n                  if (checked && validation(festivalId) && tableHeader.length > 0) {\r\n                    if (checked2) {\r\n                      setChecked2(false);\r\n                    }\r\n                    populateResultTable(typeOfRV,festivalId, setError, setTableData, tableHeader, performances, setTableHeader, setPerformances)\r\n                  } else {\r\n                    populateSchedule(typeOfRV,festivalId,setError,setTableHeader,setTableData,setPerformances);\r\n                  }\r\n                  }}></IonCheckbox>\r\n              </IonItem>\r\n            </div>}\r\n\r\n                \r\n            {/*Popularity Description*/}\r\n            {typeOfRV == 'advanced' && \r\n              <div id=\"popularityDesc\">\r\n                *Number inside brackets is popularity of particular performance\r\n              </div>\r\n            }\r\n\r\n            {/*Advanced Result Checkbox*/}\r\n            {tableData.length>0 && typeOfRV == 'advanced' && \r\n              <div id=\"checkboxSection1\">\r\n              <IonItem lines=\"none\">\r\n                <div id=\"checkboxTitle\">Show Me The Most <b>Popular</b> Performances I Can Watch</div>\r\n                <IonLabel></IonLabel>\r\n                <IonCheckbox id=\"checkbox\" checked={checked2} onIonChange={e => setChecked2(e.detail.checked)} onClick={()=>{\r\n                  if (checked2 && validation(festivalId) && tableHeader.length > 0) {\r\n                    if (checked) {\r\n                      setChecked(false);\r\n                    }\r\n                    populateResultTable(typeOfRV,festivalId, setError, setTableData, tableHeader, performances, setTableHeader, setPerformances, setTotalPopularity)\r\n                  } else {\r\n                    populateSchedule(typeOfRV,festivalId,setError,setTableHeader,setTableData,setPerformances);\r\n                  }\r\n                  }}></IonCheckbox>\r\n              </IonItem>\r\n              </div>\r\n              }\r\n              \r\n              {tableData.length>0 && typeOfRV == 'advanced' && checked2 && \r\n                <IonLabel id=\"popularityCount\"><b>Total Popularity: {totalPopularity}</b></IonLabel>\r\n              }\r\n              \r\n\r\n            </div>\r\n          </IonContent>\r\n        </IonPage>\r\n      );\r\n\r\n};\r\n\r\nexport default Tab2;\r\n","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { IonApp, IonRouterOutlet, IonIcon, IonLabel, IonTabBar, IonTabButton, IonTabs } from '@ionic/react';\r\nimport { IonReactRouter } from '@ionic/react-router';\r\nimport Home from './pages/Home';\r\nimport Tab2 from './pages/Tab2';\r\nimport './App.css';\r\nimport {homeOutline,calendarOutline} from 'ionicons/icons';\r\n\r\n/* Core CSS required for Ionic components to work properly */\r\nimport '@ionic/react/css/core.css';\r\n\r\n/* Basic CSS for apps built with Ionic */\r\nimport '@ionic/react/css/normalize.css';\r\nimport '@ionic/react/css/structure.css';\r\nimport '@ionic/react/css/typography.css';\r\n\r\n/* Optional CSS utils that can be commented out */\r\nimport '@ionic/react/css/padding.css';\r\nimport '@ionic/react/css/float-elements.css';\r\nimport '@ionic/react/css/text-alignment.css';\r\nimport '@ionic/react/css/text-transformation.css';\r\nimport '@ionic/react/css/flex-utils.css';\r\nimport '@ionic/react/css/display.css';\r\n\r\n/* Theme variables */\r\nimport './theme/variables.css';\r\n\r\nconst App: React.FC = () => (\r\n  <IonApp>\r\n    <IonReactRouter>\r\n      <IonTabs>\r\n        <IonRouterOutlet>\r\n          <Route path=\"/Udystopia/schedule\" component={Tab2} exact={true} />\r\n          <Route path=\"/Udystopia/home\" component={Home} exact={true} />\r\n          <Route path=\"/Udystopia\" render={() => <Redirect to=\"/Udystopia/home\" />} exact={true} />\r\n        </IonRouterOutlet>\r\n        <IonTabBar slot=\"bottom\">\r\n        <IonTabButton tab=\"home\" href=\"/Udystopia/home\">\r\n            <IonIcon className={'tabIcon'} icon={homeOutline} />\r\n            <IonLabel class=\"tabLabel\">Home</IonLabel>\r\n          </IonTabButton>\r\n          <IonTabButton tab=\"schedule\" href=\"/Udystopia/schedule\">\r\n            <IonIcon className={'tabIcon'} icon={calendarOutline} />\r\n            <IonLabel class=\"tabLabel\">Schedule</IonLabel>\r\n          </IonTabButton>\r\n          \r\n        </IonTabBar>\r\n      </IonTabs>\r\n    </IonReactRouter>\r\n  </IonApp>\r\n\r\n);\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n","var map = {\n\t\"./ion-action-sheet-ios.entry.js\": [\n\t\t110,\n\t\t29\n\t],\n\t\"./ion-action-sheet-md.entry.js\": [\n\t\t111,\n\t\t30\n\t],\n\t\"./ion-alert-ios.entry.js\": [\n\t\t112,\n\t\t31\n\t],\n\t\"./ion-alert-md.entry.js\": [\n\t\t113,\n\t\t32\n\t],\n\t\"./ion-app_8-ios.entry.js\": [\n\t\t114,\n\t\t13\n\t],\n\t\"./ion-app_8-md.entry.js\": [\n\t\t115,\n\t\t14\n\t],\n\t\"./ion-avatar_3-ios.entry.js\": [\n\t\t116,\n\t\t33\n\t],\n\t\"./ion-avatar_3-md.entry.js\": [\n\t\t117,\n\t\t34\n\t],\n\t\"./ion-back-button-ios.entry.js\": [\n\t\t118,\n\t\t35\n\t],\n\t\"./ion-back-button-md.entry.js\": [\n\t\t119,\n\t\t36\n\t],\n\t\"./ion-backdrop-ios.entry.js\": [\n\t\t120,\n\t\t79\n\t],\n\t\"./ion-backdrop-md.entry.js\": [\n\t\t121,\n\t\t80\n\t],\n\t\"./ion-button_2-ios.entry.js\": [\n\t\t122,\n\t\t37\n\t],\n\t\"./ion-button_2-md.entry.js\": [\n\t\t123,\n\t\t38\n\t],\n\t\"./ion-card_5-ios.entry.js\": [\n\t\t124,\n\t\t39\n\t],\n\t\"./ion-card_5-md.entry.js\": [\n\t\t125,\n\t\t40\n\t],\n\t\"./ion-checkbox-ios.entry.js\": [\n\t\t126,\n\t\t41\n\t],\n\t\"./ion-checkbox-md.entry.js\": [\n\t\t127,\n\t\t42\n\t],\n\t\"./ion-chip-ios.entry.js\": [\n\t\t128,\n\t\t43\n\t],\n\t\"./ion-chip-md.entry.js\": [\n\t\t129,\n\t\t44\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t130,\n\t\t81\n\t],\n\t\"./ion-datetime_3-ios.entry.js\": [\n\t\t131,\n\t\t19\n\t],\n\t\"./ion-datetime_3-md.entry.js\": [\n\t\t132,\n\t\t20\n\t],\n\t\"./ion-fab_3-ios.entry.js\": [\n\t\t133,\n\t\t45\n\t],\n\t\"./ion-fab_3-md.entry.js\": [\n\t\t134,\n\t\t46\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t135,\n\t\t82\n\t],\n\t\"./ion-infinite-scroll_2-ios.entry.js\": [\n\t\t136,\n\t\t83\n\t],\n\t\"./ion-infinite-scroll_2-md.entry.js\": [\n\t\t137,\n\t\t84\n\t],\n\t\"./ion-input-ios.entry.js\": [\n\t\t138,\n\t\t47\n\t],\n\t\"./ion-input-md.entry.js\": [\n\t\t139,\n\t\t48\n\t],\n\t\"./ion-item-option_3-ios.entry.js\": [\n\t\t140,\n\t\t49\n\t],\n\t\"./ion-item-option_3-md.entry.js\": [\n\t\t141,\n\t\t50\n\t],\n\t\"./ion-item_8-ios.entry.js\": [\n\t\t142,\n\t\t51\n\t],\n\t\"./ion-item_8-md.entry.js\": [\n\t\t143,\n\t\t52\n\t],\n\t\"./ion-loading-ios.entry.js\": [\n\t\t144,\n\t\t53\n\t],\n\t\"./ion-loading-md.entry.js\": [\n\t\t145,\n\t\t54\n\t],\n\t\"./ion-menu_3-ios.entry.js\": [\n\t\t146,\n\t\t55\n\t],\n\t\"./ion-menu_3-md.entry.js\": [\n\t\t147,\n\t\t56\n\t],\n\t\"./ion-modal-ios.entry.js\": [\n\t\t148,\n\t\t15\n\t],\n\t\"./ion-modal-md.entry.js\": [\n\t\t149,\n\t\t16\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t150,\n\t\t25\n\t],\n\t\"./ion-popover-ios.entry.js\": [\n\t\t151,\n\t\t17\n\t],\n\t\"./ion-popover-md.entry.js\": [\n\t\t152,\n\t\t18\n\t],\n\t\"./ion-progress-bar-ios.entry.js\": [\n\t\t153,\n\t\t57\n\t],\n\t\"./ion-progress-bar-md.entry.js\": [\n\t\t154,\n\t\t58\n\t],\n\t\"./ion-radio_2-ios.entry.js\": [\n\t\t155,\n\t\t59\n\t],\n\t\"./ion-radio_2-md.entry.js\": [\n\t\t156,\n\t\t60\n\t],\n\t\"./ion-range-ios.entry.js\": [\n\t\t157,\n\t\t61\n\t],\n\t\"./ion-range-md.entry.js\": [\n\t\t158,\n\t\t62\n\t],\n\t\"./ion-refresher_2-ios.entry.js\": [\n\t\t159,\n\t\t63\n\t],\n\t\"./ion-refresher_2-md.entry.js\": [\n\t\t160,\n\t\t64\n\t],\n\t\"./ion-reorder_2-ios.entry.js\": [\n\t\t161,\n\t\t27\n\t],\n\t\"./ion-reorder_2-md.entry.js\": [\n\t\t162,\n\t\t28\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t163,\n\t\t85\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t164,\n\t\t65\n\t],\n\t\"./ion-searchbar-ios.entry.js\": [\n\t\t165,\n\t\t66\n\t],\n\t\"./ion-searchbar-md.entry.js\": [\n\t\t166,\n\t\t67\n\t],\n\t\"./ion-segment_2-ios.entry.js\": [\n\t\t167,\n\t\t68\n\t],\n\t\"./ion-segment_2-md.entry.js\": [\n\t\t168,\n\t\t69\n\t],\n\t\"./ion-select_3-ios.entry.js\": [\n\t\t169,\n\t\t70\n\t],\n\t\"./ion-select_3-md.entry.js\": [\n\t\t170,\n\t\t71\n\t],\n\t\"./ion-slide_2-ios.entry.js\": [\n\t\t171,\n\t\t86\n\t],\n\t\"./ion-slide_2-md.entry.js\": [\n\t\t172,\n\t\t87\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t173,\n\t\t23\n\t],\n\t\"./ion-split-pane-ios.entry.js\": [\n\t\t174,\n\t\t88\n\t],\n\t\"./ion-split-pane-md.entry.js\": [\n\t\t175,\n\t\t89\n\t],\n\t\"./ion-tab-bar_2-ios.entry.js\": [\n\t\t176,\n\t\t72\n\t],\n\t\"./ion-tab-bar_2-md.entry.js\": [\n\t\t177,\n\t\t73\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t178,\n\t\t26\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t179,\n\t\t74\n\t],\n\t\"./ion-textarea-ios.entry.js\": [\n\t\t180,\n\t\t75\n\t],\n\t\"./ion-textarea-md.entry.js\": [\n\t\t181,\n\t\t76\n\t],\n\t\"./ion-toast-ios.entry.js\": [\n\t\t182,\n\t\t77\n\t],\n\t\"./ion-toast-md.entry.js\": [\n\t\t183,\n\t\t78\n\t],\n\t\"./ion-toggle-ios.entry.js\": [\n\t\t184,\n\t\t21\n\t],\n\t\"./ion-toggle-md.entry.js\": [\n\t\t185,\n\t\t22\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t186,\n\t\t90\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 83;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ion-icon.entry.js\": [\n\t\t190,\n\t\t93\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 85;\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}